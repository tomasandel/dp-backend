generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Sth {
  id        Int      @id @default(autoincrement())
  logId     String   @map("log_id")
  treeSize  BigInt   @map("tree_size")
  rootHash  String   @map("root_hash")
  timestamp BigInt
  monitorId String   @map("monitor_id")
  storedAt  DateTime @default(now()) @map("stored_at")

  @@index([logId, storedAt(sort: Desc)])
  @@index([logId, treeSize])
  @@map("sths")
}